{% extends "base.html" %}

{% block title %}Shows :: RadioEPG :: RadioDNS{% endblock %}

{% block content %}

    {% block pageheader %}
    <div class="menubar">
        <div class="sidebar-toggler visible-xs">
            <i class="ion-navicon"></i>
        </div>
        <div class="page-title">
            RadioEPG :: Service following
            <small class="hidden-xs">{% block pagesubtitle %} {% endblock %}</small>
        </div>
        <div id="page-functions" class="pull-right">
			{% block pagefunctions %}
                      Select Station : <select onchange="window.location=$(this).val();" class="form-control23">
				{% for station in stations %}
					<option value="{% url 'radioepg:station_services' station.id %}" {% if station.id == selected_station.id %}selected{% endif %}>{{station.name}}</option>
				{% endfor %}
				    </select>
			{% if not stations %}
            No stations !
            {% else %}
                <a href="{% url 'radioepg:new_service' selected_station.id %}" class="btn btn-primary">Add a new entry</a>
            {% endif %}
			{% endblock %}</div>
        <div id="page-search" class="pull-right">{% block pagesearch %} {% endblock %}</div>
    </div>
    {% endblock %}
    {% block alerts %}
    {{ block.super }}
    {% endblock %}

        {% if not stations %}
            No stations !
        {% else %}
            <table class="table table-striped table-hover table-condensed">
                <thead>
                    <tr>
                        <th>Channel name</th>
                        <th>Channel</th>
                        <th>Cost</th>
                        <th>Mime/type</th>
                        <th>Bitrate</th>
                        <th>Offset</th>
                        <th>On/Off</th>
                        <th style="width: 150px;"></th>
                    </tr>
                </thead>

                <tbody>
                    {% for service in services %}
                        <tr class="{% if service.active %}text-success{% else %}text-danger{% endif %}">
                            <td>{{service.channel.name}}</td>
                            <td>{{service.channel.epg_uri}}</td>
                            <td>{{service.cost}}</td>
                            <td>{% if service.mime_type %}{{service.mime_type}}{% endif %}</td>
                            <td>{% if service.bitrate %}{{service.bitrate}}{% endif %}</td>
                            <td>{{service.offset}}</td>
                            <td>{{service.active|yesno:"On,Off"}}</td>
                            <td style="text-align: right;">
                                    {% if service.type == 'ip' %}<a href="{% url 'radioepg:delete_service' selected_station.id service.id %}" class="btn btn-xs btn-danger" onclick="return confirm('Are you sure ?');">Delete</a>{% endif %}
                                    {% if service.active %}
                                        <a href="{% url 'radioepg:turnoff_service' selected_station.id service.id %}" class="btn btn-xs btn-danger">Turn off</a>
                                    {% else %}
                                        <a href="{% url 'radioepg:turnon_service' selected_station.id service.id %}" class="btn btn-xs btn-success">Turn on</a>
                                    {% endif %}
                                    <a href="{% url 'radioepg:edit_service' selected_station.id service.id %}" class="btn btn-xs btn-primary">Edit</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>


        {% endif %}
	<script type="text/javascript">

    </script>

{% endblock %}

